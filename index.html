<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Saggio di Danza – Piantina</title>

<style>
body{font-family:Arial;background:#f4f4f4;}
#map{position:relative;width:100%;max-width:900px;margin:auto;}
#bg{width:100%;display:block;}
.seat{
  position:absolute;width:22px;height:22px;border-radius:50%;
  background:#2ecc71;color:#fff;font-size:9px;text-align:center;
  line-height:22px;cursor:move;user-select:none;
}
.occ{background:#e74c3c;}
#stage{text-align:center;font-weight:bold;margin:10px;}
</style>
</head>

<body>

<div id="stage">PALCO</div>

<div id="map">
  <img src="piantina.jpg" id="bg">
</div>

<script>
let current=null;

// GUIDE (A1–A8 e B1–B8 che hai sistemato)
const guideA=[
 {x:120,y:140},{x:160,y:138},{x:200,y:136},{x:240,y:134},
 {x:280,y:132},{x:320,y:130},{x:360,y:128},{x:400,y:126}
];
const guideB=[
 {x:520,y:126},{x:560,y:128},{x:600,y:130},{x:640,y:132},
 {x:680,y:134},{x:720,y:136},{x:760,y:138},{x:800,y:140}
];

// distanza tra le file
const rowStep=38;

let seats=[];

// A e B (11 righe)
for(let r=0;r<11;r++){
  guideA.forEach((p,i)=>{
    seats.push({id:"A"+(r*8+i+1),x:p.x,y:p.y+r*rowStep});
  });
  guideB.forEach((p,i)=>{
    seats.push({id:"B"+(r*8+i+1),x:p.x,y:p.y+r*rowStep});
  });
}

// C e D (sotto, più centrali)
for(let r=0;r<11;r++){
  guideA.forEach((p,i)=>{
    seats.push({id:"C"+(r*8+i+2),x:p.x+60,y:p.y+11*rowStep+r*rowStep});
  });
  guideB.forEach((p,i)=>{
    seats.push({id:"D"+(r*8+i+1),x:p.x-60,y:p.y+11*rowStep+r*rowStep});
  });
}

const map=document.getElementById("map");

seats.forEach(s=>{
  const d=document.createElement("div");
  d.className="seat";
  d.style.left=s.x+"px";
  d.style.top =s.y+"px";
  d.textContent=s.id;

  d.onmousedown=()=>current=d;
  d.onclick=()=>d.classList.toggle("occ");

  map.appendChild(d);
});

document.onmousemove=e=>{
  if(!current)return;
  const r=map.getBoundingClientRect();
  current.style.left=(e.clientX-r.left-11)+"px";
  current.style.top =(e.clientY-r.top -11)+"px";
};
document.onmouseup=()=>current=null;
</script>

</body>
</html>
